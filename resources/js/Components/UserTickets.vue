<template>
    <div class="overflow-hidden">
        <ul class="space-y-4">
            <li v-for="ticket in tickets" :key="ticket.id" class="bg-gray-800 shadow">
                <div class="block hover:bg-gray-700">
                    <div class="flex items-center px-4 py-4 sm:px-6">
                        <div class="min-w-0 flex-1 flex items-center">
                            <div class="flex-shrink-0">
                                <img class="h-32 w-24" :src="ticket.showing.movie.poster_url" :alt="ticket.showing.movie.title">
                            </div>
                            <div class="min-w-0 flex-1 px-4 md:grid md:grid-cols-2 md:gap-4">
                                <div>
                                    <p class="text-xl font-bold text-white truncate">{{ ticket.showing.movie.title }}</p>
                                    <p class="text-md font-medium text-gray-300 truncate">{{ ticket.showing.show_date }}</p>
                                    <p class="text-md font-medium text-gray-300 truncate">{{ ticket.showing.show_time }}</p>
                                    <p v-if="ticket.gift" class="mt-2 flex items-center text-sm text-gray-500">
                                        <svg class="flex-shrink-0 mr-1.5 h-5 w-5 text-teal-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7" />
                                        </svg>
                                    </p>
                                    <a :href="'/gifts?ticket_id='+ticket.id" v-else class="mt-2 flex items-center text-md text-teal-400">
                                        <span class="truncate mr-1.5">Send as a gift</span>
                                        <svg class="flex-shrink-0 h-5 w-5 text-teal-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                                        </svg>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div>
                            <!-- Heroicon name: solid/chevron-right -->
                            <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                            </svg>
                        </div>
                    </div>
                </div>
            </li>
        </ul>
    </div>
</template>

<script>
export default {
    name: 'UserTickets',

    props: ['tickets']
}
</script>
